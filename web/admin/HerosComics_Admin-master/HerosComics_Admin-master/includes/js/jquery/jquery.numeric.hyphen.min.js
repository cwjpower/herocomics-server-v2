!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){a.fn.numeric_hyphen=function(b,c){"boolean"==typeof b&&(b={negative:!0}),b=b||{},"undefined"==typeof b.negative&&(b.negative=!0);var d=b.negative===!0;return c="function"==typeof c?c:function(){},this.data("numeric_hyphen.negative",d).data("numeric_hyphen.callback",c).keypress(a.fn.numeric_hyphen.keypress).keyup(a.fn.numeric_hyphen.keyup).blur(a.fn.numeric_hyphen.blur)},a.fn.numeric_hyphen.keypress=function(b){var c=a.data(this,"numeric_hyphen.negative"),d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(13==d&&"input"==this.nodeName.toLowerCase())return!0;if(13==d)return!1;if(35==d||36==d||37==d)return!1;var e=!1;if(b.ctrlKey&&97==d||b.ctrlKey&&65==d)return!0;if(b.ctrlKey&&120==d||b.ctrlKey&&88==d)return!0;if(b.ctrlKey&&99==d||b.ctrlKey&&67==d)return!0;if(b.ctrlKey&&122==d||b.ctrlKey&&90==d)return!0;if(b.ctrlKey&&118==d||b.ctrlKey&&86==d||b.shiftKey&&45==d)return!0;if(d<48||d>57){a(this).val();if(c&&45==d)return!0;8!=d&&9!=d&&13!=d&&35!=d&&36!=d&&37!=d&&39!=d&&46!=d?e=!1:"undefined"!=typeof b.charCode&&(b.keyCode==b.which&&0!==b.which?(e=!0,46==b.which&&(e=!1)):0!==b.keyCode&&0===b.charCode&&0===b.which&&(e=!0))}else e=!0;return e},a.fn.numeric_hyphen.keyup=function(b){var c=a(this).val();if(c&&c.length>0){for(var d=a.fn.getSelectionStart(this),e=a.fn.getSelectionEnd(this),f=a.data(this,"numeric_hyphen.negative"),g=[0,1,2,3,4,5,6,7,8,9,"-"],h=c.length,i=h-1;i>=0;i--){var j=c.charAt(i);0===i&&"-"==j?c=c.substring(0,i)+c.substring(i+1):0!==i||f||"-"!=j||(c=c.substring(1));for(var k=!1,l=0;l<g.length;l++)if(j==g[l]){k=!0;break}k&&" "!=j||(c=c.substring(0,i)+c.substring(i+1))}this.value=c,a.fn.setSelection(this,[d,e])}},a.fn.numeric_hyphen.blur=function(){var b=a.data(this,"numeric_hyphen.callback"),c=a.data(this,"numeric_hyphen.negative"),d=this.value;if(""!==d){var e=new RegExp("^"+(c?"-?":"")+"\\d+$|^"+(c?"-?":"")+"\\d*");e.exec(d)||b.apply(this)}},a.fn.removenumeric_hyphen=function(){return this.data("numeric_hyphen.negative",null).data("numeric_hyphen.callback",null).unbind("keypress",a.fn.numeric_hyphen.keypress).unbind("keyup",a.fn.numeric_hyphen.keyup).unbind("blur",a.fn.numeric_hyphen.blur)},a.fn.getSelectionStart=function(a){if("number"!==a.type){if(a.createTextRange&&document.selection){var b=document.selection.createRange().duplicate();return b.moveEnd("character",a.value.length),""==b.text?a.value.length:Math.max(0,a.value.lastIndexOf(b.text))}try{return a.selectionStart}catch(a){return 0}}},a.fn.getSelectionEnd=function(a){if("number"!==a.type){if(a.createTextRange&&document.selection){var b=document.selection.createRange().duplicate();return b.moveStart("character",-a.value.length),b.text.length}return a.selectionEnd}},a.fn.setSelection=function(a,b){if("number"==typeof b&&(b=[b,b]),b&&b.constructor==Array&&2==b.length)if("number"===a.type)a.focus();else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveStart("character",b[0]),c.moveEnd("character",b[1]-b[0]),c.select()}else{a.focus();try{a.setSelectionRange&&a.setSelectionRange(b[0],b[1])}catch(a){}}}});